<div align="center">
<h2>ä¸€æ­¥æ‰©æ•£ï¼šç»†èŠ‚ä¸°å¯Œä¸”æ—¶é—´ä¸€è‡´çš„è§†é¢‘è¶…åˆ†è¾¨ç‡</h2>

[å­™ç‰é™](https://yjsunnn.github.io/)<sup>1,2, *</sup> | 
[å­™å‡Œè¾°](https://scholar.google.com/citations?hl=zh-CN&tzom=-480&user=ZCDjTn8AAAAJ)<sup>1,2, *</sup> | 
[åˆ˜å¸…æ­£](https://scholar.google.com/citations?user=wzdCc-QAAAAJ&hl=en)<sup>1,2</sup> | 
[å´è£è¿œ](https://scholar.google.com/citations?user=A-U8zE8AAAAJ&hl=zh-CN)<sup>1,2</sup> | 
[å¼ æ­£å¼º](https://scholar.google.com.tw/citations?user=UX26wSMAAAAJ&hl=en)<sup>1,2</sup> | 
[å¼ ç£Š](https://www4.comp.polyu.edu.hk/~cslzhang)<sup>1,2</sup>

<sup>1</sup>é¦™æ¸¯ç†å·¥å¤§å­¦ï¼Œ<sup>2</sup>OPPOç ”ç©¶é™¢
</div>

<div>
    <h4 align="center">
        <a href="https://yjsunnn.github.io/DLoRAL-project/" target='_blank'>
        <img src="https://img.shields.io/badge/ğŸ’¡-é¡¹ç›®é¡µé¢-gold">
        </a>
        <a href="https://arxiv.org/pdf/2506.15591" target='_blank'>
        <img src="https://img.shields.io/badge/arXiv-2312.06640-b31b1b.svg">
        </a>
        <a href="https://www.youtube.com/embed/Jsk8zSE3U-w?si=jz1Isdzxt_NqqDFL&vq=hd1080" target='_blank'>
        <img src="https://img.shields.io/badge/æ¼”ç¤ºè§†é¢‘-%23FF0000.svg?logo=YouTube&logoColor=white">
        </a>
        <a href="https://www.youtube.com/embed/xzZL8X10_KU?si=vOB3chIa7Zo0l54v" target="_blank">
        <img src="https://img.shields.io/badge/2åˆ†é’Ÿè®²è§£-brightgreen?logo=YouTube&logoColor=white">
        </a>
        </a>
        <a href="https://github.com/yjsunnn/Awesome-video-super-resolution-diffusion" target="_blank">
        <img src="https://img.shields.io/badge/GitHub-ä¼˜ç§€è§†é¢‘è¶…åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹-181717.svg?logo=github&logoColor=white">
        </a>
        </a>
        <a href="https://colab.research.google.com/drive/1QAEn4uFe4GNqlJbogxxhdGFhzMr3rfGm?usp=sharing" target="_blank">
        <img src="https://img.shields.io/badge/Colabæ¼”ç¤º-F9AB00?style=flat&logo=googlecolab&logoColor=white">
        </a>
        <a href="https://github.com/yjsunnn/DLoRAL" target='_blank' style="text-decoration: none;"><img src="https://visitor-badge.laobi.icu/badge?page_id=yjsunnn/DLoRAL"></a>
    </h4>
</div>

<p align="center">

<img src="assets/visual_results.svg" alt="è§†è§‰æ•ˆæœ">

</p>

## â° æ›´æ–°

- **2025.07.14**: [Colabæ¼”ç¤º](https://colab.research.google.com/drive/1QAEn4uFe4GNqlJbogxxhdGFhzMr3rfGm?usp=sharing)ç°å·²å¯ç”¨ã€‚âœ¨ **æ— éœ€æœ¬åœ°GPUæˆ–è®¾ç½®** - åªéœ€ä¸Šä¼ å¹¶å¢å¼ºï¼
- **2025.07.08**: æ¨ç†ä»£ç å’Œé¢„è®­ç»ƒæƒé‡å·²å¯ç”¨ã€‚
- **2025.06.24**: é¡¹ç›®é¡µé¢å·²å¯ç”¨ï¼ŒåŒ…æ‹¬ç®€çŸ­çš„2åˆ†é’Ÿè®²è§£è§†é¢‘ã€æ›´å¤šè§†è§‰æ•ˆæœå’Œç›¸å…³ç ”ç©¶ã€‚
- **2025.06.17**: ä»£ç ä»“åº“å·²å‘å¸ƒã€‚

:star: å¦‚æœDLoRALå¯¹æ‚¨çš„è§†é¢‘æˆ–é¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·å¸®å¿™ç»™è¿™ä¸ªä»“åº“ç‚¹æ˜Ÿã€‚è°¢è°¢ï¼:hugs:

ğŸ˜Š æ‚¨å¯èƒ½è¿˜æƒ³æŸ¥çœ‹æˆ‘ä»¬çš„ç›¸å…³ä½œå“ï¼š

1. **OSEDiff (NIPS2024)** [è®ºæ–‡](https://arxiv.org/abs/2406.08177) | [ä»£ç ](https://github.com/cswry/OSEDiff/)  

   å·²åº”ç”¨äºOPPO Find X8ç³»åˆ—çš„å®æ—¶å›¾åƒè¶…åˆ†è¾¨ç‡ç®—æ³•ã€‚

2. **PiSA-SR (CVPR2025)** [è®ºæ–‡](https://arxiv.org/pdf/2412.03017) | [ä»£ç ](https://github.com/csslc/PiSA-SR) 

   å›¾åƒè¶…åˆ†è¾¨ç‡ä¸­åŒLoRAèŒƒå¼çš„å¼€åˆ›æ€§æ¢ç´¢ã€‚

3. **ä¼˜ç§€è§†é¢‘è¶…åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹** [ä»“åº“](https://github.com/yjsunnn/Awesome-video-super-resolution-diffusion)

   ä½¿ç”¨æ‰©æ•£æ¨¡å‹è¿›è¡Œè§†é¢‘è¶…åˆ†è¾¨ç‡(VSR)çš„ç²¾é€‰èµ„æºåˆ—è¡¨ã€‚

## ğŸ‘€ å¾…åŠäº‹é¡¹
- [x] å‘å¸ƒæ¨ç†ä»£ç ã€‚
- [x] æä¾›ä¾¿æ·æµ‹è¯•çš„Colabæ¼”ç¤ºã€‚
- [x] å‘å¸ƒè®­ç»ƒä»£ç ã€‚
- [ ] å‘å¸ƒè®­ç»ƒæ•°æ®ã€‚


## ğŸŒŸ æ¡†æ¶æ¦‚è¿°

<p align="center">

<img src="assets/pipeline.svg" alt="DLoRALæ¡†æ¶">

</p>

**è®­ç»ƒ**: åŠ¨æ€åŒé˜¶æ®µè®­ç»ƒæ–¹æ¡ˆåœ¨ä¼˜åŒ–æ—¶é—´ä¸€è‡´æ€§ï¼ˆä¸€è‡´æ€§é˜¶æ®µï¼‰å’Œç»†åŒ–é«˜é¢‘ç©ºé—´ç»†èŠ‚ï¼ˆå¢å¼ºé˜¶æ®µï¼‰ä¹‹é—´äº¤æ›¿ï¼Œé€šè¿‡å¹³æ»‘æŸå¤±æ’å€¼ç¡®ä¿ç¨³å®šæ€§ã€‚

**æ¨ç†**: åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼ŒC-LoRAå’ŒD-LoRAéƒ½åˆå¹¶åˆ°å†»ç»“çš„æ‰©æ•£UNetä¸­ï¼Œå®ç°ä½è´¨é‡è¾“å…¥åˆ°é«˜è´¨é‡è¾“å‡ºçš„ä¸€æ­¥å¢å¼ºã€‚


## ğŸ”§ ä¾èµ–å’Œå®‰è£…

1. å…‹éš†ä»“åº“
    ```bash
    git clone https://github.com/yjsunnn/DLoRAL.git
    cd DLoRAL
    ```

2. å®‰è£…ä¾èµ–åŒ…
    ```bash
    conda create -n DLoRAL python=3.10 -y
    conda activate DLoRAL
    pip install -r requirements.txt
    # mimå®‰è£…mmeditå’Œmmcv
    pip install openmim
    mim install mmcv-full mmengine
    pip install mmedit
    ```

3. ä¸‹è½½æ¨¡å‹ 
#### ä¾èµ–æ¨¡å‹
* [RAM](https://huggingface.co/spaces/xinyu1205/recognize-anything/blob/main/ram_swin_large_14m.pth) --> æ”¾å…¥ **/path/to/DLoRAL/preset/models/ram_swin_large_14m.pth**
* [DAPE](https://drive.google.com/file/d/1KIV6VewwO2eDC9g4Gcvgm-a0LDI7Lmwm/view?usp=drive_link) --> æ”¾å…¥ **/path/to/DLoRAL/preset/models/DAPE.pth**
* [é¢„è®­ç»ƒæƒé‡](https://drive.google.com/file/d/1vpcaySpRx_K-tXq2D2EBqFZ-03Foky8G/view?usp=sharing) --> æ”¾å…¥ **/path/to/DLoRAL/preset/models/checkpoints/model.pkl**

æ¯ä¸ªè·¯å¾„éƒ½å¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡Œä¿®æ”¹ï¼Œç›¸åº”çš„æ›´æ”¹ä¹Ÿåº”åº”ç”¨äºå‘½ä»¤è¡Œå’Œä»£ç ä¸­ã€‚

## ğŸ–¼ï¸ å¿«é€Ÿæ¨ç†
å¯¹äºçœŸå®ä¸–ç•Œè§†é¢‘è¶…åˆ†è¾¨ç‡ï¼š

```
python src/test_DLoRAL.py     \
--pretrained_model_path stabilityai/stable-diffusion-2-1-base     \
--ram_ft_path /path/to/DLoRAL/preset/models/DAPE.pth     \
--ram_path '/path/to/DLoRAL/preset/models/ram_swin_large_14m.pth'     \
--merge_and_unload_lora False     \
--process_size 512     \
--pretrained_model_name_or_path stabilityai/stable-diffusion-2-1-base     \
--vae_encoder_tiled_size 4096     \
--load_cfr     \
--pretrained_path /path/to/DLoRAL/preset/models/checkpoints/model.pkl     \
--stages 1     \
-i /path/to/input_videos/     \
-o /path/to/results
```

```
python src/test_DLoRAL.py --pretrained_model_path stabilityai/stable-diffusion-2-1-base --ram_ft_path preset/models/DAPE.pth --ram_path 'preset/models/ram_swin_large_14m.pth' --merge_and_unload_lora False --process_size 512 --pretrained_model_name_or_path stabilityai/stable-diffusion-2-1-base --vae_encoder_tiled_size 4096 --load_cfr --pretrained_path preset/models/checkpoints/model.pkl --stages 1 -i input_videos/ -o results
```

## âš™ï¸ è®­ç»ƒ
å¯¹äºçœŸå®ä¸–ç•Œè§†é¢‘è¶…åˆ†è¾¨ç‡ï¼š

```
bash train_scripts.sh
```

ä¸€äº›å…³é”®å‚æ•°åŠå…¶å¯¹åº”å«ä¹‰ï¼š
å‚æ•° | æè¿° | ç¤ºä¾‹å€¼
--- | --- | ---
`--quality_iter` | ä»ä¸€è‡´æ€§é˜¶æ®µåˆ‡æ¢åˆ°è´¨é‡é˜¶æ®µçš„åˆå§‹æ­¥æ•° | `5000`
`--quality_iter_1_final` | ä»è´¨é‡é˜¶æ®µåˆ‡æ¢åˆ°ä¸€è‡´æ€§é˜¶æ®µæ‰€éœ€çš„æ­¥æ•° | `13000`
`--quality_iter_2` | `quality_iter_1_final`ä¹‹ååˆ‡æ¢å›è´¨é‡é˜¶æ®µçš„ç›¸å¯¹æ­¥æ•°ï¼ˆå®é™…åˆ‡æ¢å‘ç”Ÿåœ¨`quality_iter_1_final + quality_iter_2`ï¼‰ | `5000`
`--lsdir_txt_path` | ç¬¬ä¸€é˜¶æ®µæ•°æ®é›†è·¯å¾„ | `"/path/to/your/dataset"`
`--pexel_txt_path` | ç¬¬äºŒé˜¶æ®µæ•°æ®é›†è·¯å¾„ | `"/path/to/your/dataset"`



## ğŸ’¬ è”ç³»æ–¹å¼ï¼š
å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼ˆä¸ä»…æ˜¯å…³äºDLoRALï¼Œè¿˜åŒ…æ‹¬çªå‘/è§†é¢‘è¶…åˆ†è¾¨ç‡ç›¸å…³çš„é—®é¢˜ï¼‰ï¼Œè¯·éšæ—¶é€šè¿‡yujingsun1999@gmail.comè”ç³»æˆ‘

### å¼•ç”¨
å¦‚æœæˆ‘ä»¬çš„ä»£ç å¯¹æ‚¨çš„ç ”ç©¶æˆ–å·¥ä½œæœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘å¼•ç”¨æˆ‘ä»¬çš„è®ºæ–‡ã€‚
ä»¥ä¸‹æ˜¯BibTeXå¼•ç”¨ï¼š

```
@misc{sun2025onestepdiffusiondetailrichtemporally,
      title={One-Step Diffusion for Detail-Rich and Temporally Consistent Video Super-Resolution}, 
      author={Yujing Sun and Lingchen Sun and Shuaizheng Liu and Rongyuan Wu and Zhengqiang Zhang and Lei Zhang},
      year={2025},
      eprint={2506.15591},
      archivePrefix={arXiv},
      primaryClass={cs.CV},
      url={https://arxiv.org/abs/2506.15591}, 
}

``` 